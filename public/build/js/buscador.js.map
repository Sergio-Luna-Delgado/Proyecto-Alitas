{"version":3,"sources":["buscador.js"],"names":["iniciarApp","buscarPorFecha","botonEstatus","document","querySelector","addEventListener","e","fechaSeleccionada","target","value","window","location","querySelectorAll","forEach","boton","textContent","classList","remove","add","async","eliminarOrden","id","confirm","url","datos","FormData","append","opciones","method","body","resultado","fetch","respuesta","json","alert","message","reload","error","console","log"],"mappings":"AAIA,SAASA,aACLC,iBACAC,eAGJ,SAASD,iBACcE,SAASC,cAAc,UAC/BC,iBAAiB,SAAS,SAAUC,GAC3C,MAAMC,EAAoBD,EAAEE,OAAOC,MACnCC,OAAOC,SAAW,UAAUJ,KAIpC,SAASL,eACL,MAAMA,EAAeC,SAASS,iBAAiB,iBAE1B,OAAjBV,GACAA,EAAaW,QAAQC,IACjBA,EAAMT,iBAAiB,SAAS,SAAUC,GAExB,cADAA,EAAEE,OAAOO,aAEnBD,EAAMC,YAAc,YACpBD,EAAME,UAAUC,OAAO,mBACvBH,EAAME,UAAUE,IAAI,qBAIpBJ,EAAMC,YAAc,YACpBD,EAAME,UAAUC,OAAO,mBACvBH,EAAME,UAAUE,IAAI,yBAQxCC,eAAeC,cAAcC,GACzB,GAAIC,QAAQ,yCAAyCD,MACjD,IAEI,MAAME,EAAM,0DAENC,EAAQ,IAAIC,SAClBD,EAAME,OAAO,KAAML,GACnB,MAAMM,EAAW,CACbC,OAAQ,OACRC,KAAML,GAIJM,QAAkBC,MAAMR,EAAKI,GAC7BK,QAAkBF,EAAUG,OAElCC,MAAMF,EAAUG,SAChBxB,SAASyB,SAEX,MAAOC,GACLC,QAAQC,IAAIF,IA9DxBlC,SAASE,iBAAiB,oBAAoB,WAC1CL","file":"buscador.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n    buscarPorFecha();\r\n    botonEstatus();\r\n}\r\n\r\nfunction buscarPorFecha() {\r\n    const fechaInput = document.querySelector('#fecha');\r\n    fechaInput.addEventListener('input', function (e) {\r\n        const fechaSeleccionada = e.target.value;\r\n        window.location = `?fecha=${fechaSeleccionada}`;\r\n    });\r\n}\r\n\r\nfunction botonEstatus() {\r\n    const botonEstatus = document.querySelectorAll('#botonEstatus');\r\n    /* Evita errores aunque no es necesario el if */\r\n    if (botonEstatus !== null) {\r\n        botonEstatus.forEach(boton => {\r\n            boton.addEventListener('click', function (e) {\r\n                const texto = e.target.textContent;\r\n                if (texto === 'Pendiente') {\r\n                    boton.textContent = 'Terminado';\r\n                    boton.classList.remove('boton-Pendiente');\r\n                    boton.classList.add('boton-Terminado');\r\n\r\n\r\n                } else {\r\n                    boton.textContent = 'Pendiente';\r\n                    boton.classList.remove('boton-Terminado');\r\n                    boton.classList.add('boton-Pendiente');\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\n/* Se elimina la orden pero primero se muestra una alerta */\r\nasync function eliminarOrden(id) {\r\n    if (confirm(`Â¿Estas seguro de eliminar el registro ${id}?`)) {\r\n        try {\r\n            // const url = 'http://localhost:3000/admin/eliminar';\r\n            const url = 'https://alitas-legendarias.herokuapp.com/admin/eliminar';\r\n\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n            const opciones = {\r\n                method: 'POST',\r\n                body: datos\r\n            }\r\n\r\n            /* El await espera hasta que descargue todo y detiene la ejecucion de todo lo que este abajo */\r\n            const resultado = await fetch(url, opciones);\r\n            const respuesta = await resultado.json();\r\n\r\n            alert(respuesta.message);\r\n            location.reload();\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}"]}