{"version":3,"sources":["app.js"],"names":["async","eliminarProducto","id","confirm","url","datos","FormData","append","opciones","method","body","resultado","fetch","respuesta","json","alert","message","location","reload","error","console","log","validarComprar","status","window","href","data","$","modal","eliminarProductoCarrito","confirmarCompra","hora","Date","toLocaleTimeString"],"mappings":"AACAA,eAAeC,iBAAiBC,GAC5B,GAAIC,QAAQ,yCAAyCD,MACjD,IAGI,MAAME,EAAM,qEAGNC,EAAQ,IAAIC,SAClBD,EAAME,OAAO,KAAML,GACnB,MAAMM,EAAW,CACbC,OAAQ,OACRC,KAAML,GAIJM,QAAkBC,MAAMR,EAAKI,GAC7BK,QAAkBF,EAAUG,OAElCC,MAAMF,EAAUG,SAChBC,SAASC,SAEX,MAAOC,GACLC,QAAQC,IAAIF,IAMxBnB,eAAesB,eAAepB,GAC1B,IAEI,MAAME,EAAM,uDAENC,EAAQ,IAAIC,SAClBD,EAAME,OAAO,KAAML,GACnB,MAAMM,EAAW,CACbC,OAAQ,OACRC,KAAML,GAGJM,QAAkBC,MAAMR,EAAKI,GAC7BK,QAAkBF,EAAUG,OAEV,SAApBD,EAAUU,QACVR,MAAMF,EAAUG,SAChBQ,OAAOP,SAASQ,KAAO,UAGvBD,OAAOP,SAASQ,KAAO,gBAAkBvB,EAG/C,MAAOiB,GACLC,QAAQC,IAAIF,GAGG,SAAfO,KAAKH,QACLR,MAAMW,KAAKV,SACXQ,OAAOP,SAASQ,KAAO,cAGvBE,EAAE,YAAczB,GAAI0B,MAAM,QAKlC5B,eAAe6B,wBAAwB3B,GACnC,GAAIC,QAAQ,8CACR,IAEI,MAAMC,EAAM,4DAENC,EAAQ,IAAIC,SAClBD,EAAME,OAAO,KAAML,GACnB,MAAMM,EAAW,CACbC,OAAQ,OACRC,KAAML,GAGJM,QAAkBC,MAAMR,EAAKI,GAC7BK,QAAkBF,EAAUG,OAElCC,MAAMF,EAAUG,SAChBC,SAASC,SAEX,MAAOC,GACLC,QAAQC,IAAIF,IAMxBnB,eAAe8B,kBAEX,IAAIC,GADU,IAAIC,MACDC,qBACjB,GAAI9B,QAAQ,gCACR,IAEI,MAAMC,EAAM,mDAENC,EAAQ,IAAIC,SAClBD,EAAME,OAAO,OAAQwB,GACrB,MAAMvB,EAAW,CACbC,OAAQ,OACRC,KAAML,GAGJM,QAAkBC,MAAMR,EAAKI,GAC7BK,QAAkBF,EAAUG,OAElCC,MAAMF,EAAUG,SAChBQ,OAAOP,SAASQ,KAAO,WAEzB,MAAON,GACLC,QAAQC,IAAIF","file":"app.js","sourcesContent":["/* Se elimina el producto del inventario pero primero se muestra una alerta */\r\nasync function eliminarProducto(id) {\r\n    if (confirm(`¿Estas seguro de eliminar el registro ${id}?`)) {\r\n        try {\r\n            /* Esta es la url que voy a consumir */\r\n            // const url = 'http://localhost:3000/admin/inventario/eliminar';\r\n            const url = 'https://alitas-legendarias.herokuapp.com/admin/inventario/eliminar';\r\n\r\n            /* En jQuery esto equivale al data  */\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n            const opciones = {\r\n                method: 'POST',\r\n                body: datos\r\n            }\r\n\r\n            /* El await espera hasta que descargue todo y detiene la ejecucion de todo lo que este abajo */\r\n            const resultado = await fetch(url, opciones);\r\n            const respuesta = await resultado.json();\r\n\r\n            alert(respuesta.message);\r\n            location.reload();\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\n\r\n/* Muestra una alerta si el usuario ha iniciado sesion primero */\r\nasync function validarComprar(id) {\r\n    try {\r\n        // const url = 'http://localhost:3000/validarUser';\r\n        const url = 'https://alitas-legendarias.herokuapp.com/validarUser';\r\n\r\n        const datos = new FormData();\r\n        datos.append('id', id);\r\n        const opciones = {\r\n            method: 'POST',\r\n            body: datos\r\n        }\r\n\r\n        const resultado = await fetch(url, opciones);\r\n        const respuesta = await resultado.json();\r\n\r\n        if (respuesta.status == \"error\") {\r\n            alert(respuesta.message);\r\n            window.location.href = \"/login\";\r\n        }\r\n        else {\r\n            window.location.href = \"/platillo?id=\" + id;\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n    if (data.status == \"error\") {\r\n        alert(data.message);\r\n        window.location.href = \"/login.php\"\r\n    }\r\n    else {\r\n        $('#detalles' + id).modal('show');\r\n    }\r\n}\r\n\r\n/* Se elimina el producto del carrito pero primero se muestra una alerta */\r\nasync function eliminarProductoCarrito(id) {\r\n    if (confirm(`¿Quieres quitar este platillo del carrito?`)) {\r\n        try {\r\n            // const url = 'http://localhost:3000/eliminarPlatillo';\r\n            const url = 'https://alitas-legendarias.herokuapp.com/eliminarPlatillo';\r\n\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n            const opciones = {\r\n                method: 'POST',\r\n                body: datos\r\n            }\r\n\r\n            const resultado = await fetch(url, opciones);\r\n            const respuesta = await resultado.json();\r\n\r\n            alert(respuesta.message);\r\n            location.reload();\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\n\r\n/* funcion de compra */\r\nasync function confirmarCompra() {\r\n    const fecha = new Date();\r\n    let hora = fecha.toLocaleTimeString();\r\n    if (confirm(`¿Deseas confirmar la compra?`)) {\r\n        try {\r\n            // const url = 'http://localhost:3000/comprar';\r\n            const url = 'https://alitas-legendarias.herokuapp.com/comprar';\r\n\r\n            const datos = new FormData();\r\n            datos.append('hora', hora);\r\n            const opciones = {\r\n                method: 'POST',\r\n                body: datos\r\n            }\r\n\r\n            const resultado = await fetch(url, opciones);\r\n            const respuesta = await resultado.json();\r\n\r\n            alert(respuesta.message);\r\n            window.location.href = \"/pedidos\";\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\n"]}