let host="https://alitas-legendarias.herokuapp.com/";async function eliminarProducto(o){if(confirm(`¿Estas seguro de eliminar el registro ${o}?`))try{const t=host+"admin/inventario/eliminar",a=new FormData;a.append("id",o);const e={method:"POST",body:a},n=await fetch(t,e),r=await n.json();alert(r.message),location.reload()}catch(o){console.log(o)}}async function validarComprar(o){try{const t=host+"validarUser",a=new FormData;a.append("id",o);const e={method:"POST",body:a},n=await fetch(t,e),r=await n.json();"error"==r.status?(alert(r.message),window.location.href="/login"):window.location.href="/platillo?id="+o}catch(o){console.log(o)}"error"==data.status?(alert(data.message),window.location.href="/login.php"):$("#detalles"+o).modal("show")}async function eliminarProductoCarrito(o){if(confirm("¿Quieres quitar este platillo del carrito?"))try{const t=host+"/eliminarPlatillo",a=new FormData;a.append("id",o);const e={method:"POST",body:a},n=await fetch(t,e),r=await n.json();alert(r.message),location.reload()}catch(o){console.log(o)}}async function confirmarCompra(){const o=new Date;let t=o.toLocaleTimeString(),a=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate();if(confirm("¿Deseas confirmar la compra?"))try{const o=host+"comprar",e=new FormData;e.append("hora",t),e.append("dia",a);const n={method:"POST",body:e},r=await fetch(o,n),s=await r.json();alert(s.message),window.location.href="/pedidos"}catch(o){console.log(o)}}async function actualizarPasword(){const o=document.querySelector("#passwordActual").value,t=document.querySelector("#passwordNuevo").value,a=document.querySelector("#passwordModal"),e=bootstrap.Modal.getInstance(a);try{const a=host+"password",n=new FormData;n.append("passwordActual",o),n.append("passwordNuevo",t);const r={method:"POST",body:n},s=await fetch(a,r),i=await s.json();alert(i.message),"success"===i.status&&e.hide()}catch(o){console.log(o)}}async function reporteInventario(){try{const o=host+"admin/reporte/inventario";await fetch(o)}catch(o){console.log(o)}}const btnImprimir=document.querySelector("#btnImprimir");btnImprimir&&btnImprimir.addEventListener("click",(function(){const o=document.querySelector("#reporteBotones");o.classList.toggle("d-none"),window.print(),o.classList.toggle("d-none")}));
//# sourceMappingURL=app.js.map
